@import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Klee+One&family=Patrick+Hand&family=Short+Stack&family=Indie+Flower&family=Gochi+Hand&display=swap');

:root {
  /* Ghibli-inspired color palette - darker background shades with more vivid accents */
  --ghibli-blue: #6ea5c8;
  --ghibli-blue-alt: #94bddb;
  --ghibli-green: #7aa698;
  --ghibli-pink: #e6af9c;
  --ghibli-yellow: #f0daa8;
  --ghibli-background: #e5d8c0;
  --ghibli-card: #efe6d4;
  --ghibli-text: #483c35;
  --ghibli-border: #b5a992;
  --ghibli-header: #5e8894;
  --ghibli-shadow: rgba(72, 60, 53, 0.2);
  --ghibli-accent: #d88b6a;
}

body.ghibli-mode {
  background-color: var(--ghibli-background) !important;
  color: var(--ghibli-text) !important;
  font-family: 'Klee One', sans-serif;
}

body.ghibli-mode:before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 97;
  opacity: 0.4;
}

/* Enhanced whimsical typography - Text styles with character variations */
body.ghibli-mode {
  letter-spacing: 0.02em !important;
  line-height: 1.5 !important;
}

body.ghibli-mode p, 
body.ghibli-mode span, 
body.ghibli-mode div, 
body.ghibli-mode li {
  font-family: 'Patrick Hand', 'Klee One', sans-serif !important;
}

body.ghibli-mode h1, 
body.ghibli-mode .t-24,
body.ghibli-mode .text-heading-xlarge {
  font-family: 'Gochi Hand', 'Caveat', cursive !important;
  color: var(--ghibli-text) !important;
  transform: rotate(-0.8deg) !important;
  text-shadow: 2px 2px 0 rgba(255,255,255,0.8), -1px -1px 0 rgba(0,0,0,0.05) !important;
  letter-spacing: 0.03em !important;
  font-weight: 700 !important;
}

body.ghibli-mode h2, 
body.ghibli-mode .t-20,
body.ghibli-mode .artdeco-card__title,
body.ghibli-mode .t-20.t-black.t-bold,
body.ghibli-mode .text-heading-large {
  font-family: 'Indie Flower', 'Caveat', cursive !important;
  color: var(--ghibli-text) !important;
  transform: rotate(-0.5deg) !important;
  text-shadow: 1px 1px 0 rgba(255,255,255,0.7) !important;
  letter-spacing: 0.025em !important;
}

body.ghibli-mode h3, 
body.ghibli-mode .t-16,
body.ghibli-mode .t-16.t-black.t-bold,
body.ghibli-mode .feed-shared-header__text-view,
body.ghibli-mode .text-heading-medium {
  font-family: 'Short Stack', 'Caveat', cursive !important;
  color: var(--ghibli-text) !important;
  transform: rotate(-0.3deg) !important;
  text-shadow: 1px 1px 0 rgba(255,255,255,0.6) !important;
  letter-spacing: 0.02em !important;
}

body.ghibli-mode h1:after,
body.ghibli-mode .t-24:after,
body.ghibli-mode .text-heading-xlarge:after {
  content: "✨";
  margin-left: 8px;
  font-size: 0.8em;
  opacity: 0.7;
}

body.ghibli-mode h2:after,
body.ghibli-mode .t-20:after,
body.ghibli-mode .artdeco-card__title:after,
body.ghibli-mode .t-20.t-black.t-bold:after {
  content: "⭐";
  margin-left: 8px;
  font-size: 0.8em;
  opacity: 0.7;
}

body.ghibli-mode h3:after,
body.ghibli-mode .t-16.t-black.t-bold:after,
body.ghibli-mode .text-heading-medium:after {
  content: "✿";
  margin-left: 8px;
  font-size: 0.8em;
  opacity: 0.7;
}

/* Add subtle text animation to selected elements */
body.ghibli-mode .feed-shared-update-v2__description,
body.ghibli-mode .feed-shared-text-view, 
body.ghibli-mode .artdeco-card__title {
  animation: gentleWave 8s ease-in-out infinite;
}

@keyframes gentleWave {
  0%, 100% { transform: translateY(0) rotate(-0.3deg); }
  50% { transform: translateY(-2px) rotate(0.3deg); }
}

body.ghibli-mode .feed-shared-actor__name span:nth-child(odd),
body.ghibli-mode .feed-shared-actor__description span:nth-child(odd),
body.ghibli-mode .artdeco-entity-lockup__title span:nth-child(odd),
body.ghibli-mode .artdeco-entity-lockup__subtitle span:nth-child(odd) {
  display: inline-block;
  transform: rotate(-1deg);
}

body.ghibli-mode .feed-shared-actor__name span:nth-child(even),
body.ghibli-mode .feed-shared-actor__description span:nth-child(even),
body.ghibli-mode .artdeco-entity-lockup__title span:nth-child(even),
body.ghibli-mode .artdeco-entity-lockup__subtitle span:nth-child(even) {
  display: inline-block;
  transform: rotate(1deg);
}

body.ghibli-mode #global-nav,
body.ghibli-mode .global-nav__content,
body.ghibli-mode .global-nav__primary-items {
  background-color: var(--ghibli-header) !important;
  border-bottom: 2px solid var(--ghibli-border) !important;
  box-shadow: 0 3px 8px var(--ghibli-shadow) !important;
}

body.ghibli-mode #main,
body.ghibli-mode .authentication-outlet,
body.ghibli-mode .scaffold-layout__main,
body.ghibli-mode .scaffold-layout__sidebar,
body.ghibli-mode .feed-container,
body.ghibli-mode .feed-shared-update-v2 {
  background-color: var(--ghibli-card) !important;
  border-color: var(--ghibli-border) !important;
  box-shadow: 2px 2px 8px var(--ghibli-shadow) !important;
  border-radius: 8px !important;
}

body.ghibli-mode .events-home__events-container,
body.ghibli-mode .events-home__hero,
body.ghibli-mode .events-home__sidebar,
body.ghibli-mode .event-detail,
body.ghibli-mode .event-sessions,
body.ghibli-mode .event-home-hero,
body.ghibli-mode .event-home-section {
  background-color: var(--ghibli-card) !important;
  color: var(--ghibli-text) !important;
  border-radius: 8px !important;
  box-shadow: 2px 2px 8px var(--ghibli-shadow) !important;
  border-left: 3px solid var(--ghibli-accent) !important;
}

body.ghibli-mode .event-card,
body.ghibli-mode .events-home-popular-events__list,
body.ghibli-mode .events-home-popular-events__item,
body.ghibli-mode .artdeco-card.events-card,
body.ghibli-mode [data-test-events-card],
body.ghibli-mode [data-control-name*="event_card"] {
  background-color: var(--ghibli-card) !important;
  color: var(--ghibli-text) !important;
  border-color: var(--ghibli-border) !important;
  border-radius: 12px !important;
  box-shadow: 2px 2px 8px var(--ghibli-shadow) !important;
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease !important;
}

body.ghibli-mode .event-card:hover,
body.ghibli-mode [data-control-name*="event_card"]:hover {
  transform: translateY(-5px) rotate(0.75deg) !important;
  box-shadow: 4px 7px 12px var(--ghibli-shadow) !important;
}

body.ghibli-mode .artdeco-card,
body.ghibli-mode .feed-shared-card,
body.ghibli-mode .feed-shared-text,
body.ghibli-mode .feed-shared-mini-update-v2,
body.ghibli-mode .feed-shared-update-v2__description-wrapper,
body.ghibli-mode .feed-shared-update-v2__comments-container,
body.ghibli-mode .feed-shared-update-v2__social-actions,
body.ghibli-mode .feed-shared-update-v2__social-details,
body.ghibli-mode .profile-card,
body.ghibli-mode .pv-top-card {
  background-color: var(--ghibli-card) !important;
  border-color: var(--ghibli-border) !important;
  border-radius: 12px !important;
  box-shadow: 2px 2px 8px var(--ghibli-shadow) !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
  position: relative;
  overflow: hidden;
}

body.ghibli-mode .artdeco-card:after,
body.ghibli-mode .feed-shared-card:after,
body.ghibli-mode .profile-card:after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  opacity: 0.3;
  mix-blend-mode: multiply;
}

body.ghibli-mode .artdeco-card:hover,
body.ghibli-mode .feed-shared-card:hover {
  transform: translateY(-3px) rotate(0.15deg) !important;
  box-shadow: 3px 5px 10px var(--ghibli-shadow) !important;
}

body.ghibli-mode .artdeco-button,
body.ghibli-mode .artdeco-pill {
  font-family: 'Patrick Hand', sans-serif !important;
  background-color: var(--ghibli-blue) !important;
  color: #ffffff !important;
  border-color: var(--ghibli-blue) !important;
  border-radius: 24px !important;
  box-shadow: 1px 2px 4px var(--ghibli-shadow) !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
  letter-spacing: 0.05em !important;
}

body.ghibli-mode .artdeco-button:hover,
body.ghibli-mode .artdeco-pill:hover {
  transform: translateY(-2px) scale(1.02) !important;
  box-shadow: 2px 3px 7px var(--ghibli-shadow) !important;
}

/* LinkedIn-specific primary buttons */
body.ghibli-mode .artdeco-button--primary {
  background-color: var(--ghibli-blue-alt) !important;
  color: var(--ghibli-text) !important;
  border-color: var(--ghibli-blue-alt) !important;
  border-radius: 24px !important;
}

/* LinkedIn-specific secondary buttons */
body.ghibli-mode .artdeco-button--secondary {
  background-color: var(--ghibli-pink) !important;
  border-color: var(--ghibli-pink) !important;
}

/* LinkedIn-specific input fields with enhanced styling */
body.ghibli-mode .artdeco-text-input,
body.ghibli-mode .search-global-typeahead__input,
body.ghibli-mode input.search-global-typeahead__input,
body.ghibli-mode .msg-form__contenteditable {
  font-family: 'Short Stack', sans-serif !important;
  background-color: var(--ghibli-card) !important;
  color: var(--ghibli-text) !important;
  border-color: var(--ghibli-border) !important;
  border-radius: 24px !important;
  box-shadow: inset 1px 2px 4px var(--ghibli-shadow) !important;
  transition: box-shadow 0.3s ease, transform 0.2s ease !important;
}

body.ghibli-mode .artdeco-text-input:focus,
body.ghibli-mode .search-global-typeahead__input:focus,
body.ghibli-mode input.search-global-typeahead__input:focus,
body.ghibli-mode .msg-form__contenteditable:focus {
  box-shadow: inset 1px 2px 4px var(--ghibli-shadow), 0 0 0 2px var(--ghibli-yellow) !important;
  transform: scale(1.01) !important;
}

body.ghibli-mode .profile-topcard__connections-count,
body.ghibli-mode .feed-shared-update-v2__comments-count,
body.ghibli-mode .social-details-social-counts__reactions-count,
body.ghibli-mode .social-details-social-counts__comments,
body.ghibli-mode .social-details-social-counts__comments-count {
  font-family: 'Indie Flower', sans-serif !important;
  font-size: 1.1em !important;
  display: inline-block;
  transform: rotate(-1deg) !important;
}

/* Fix any specific text elements */
body.ghibli-mode .ember-view a,
body.ghibli-mode .feed-shared-text-view__text {
  text-shadow: 0.5px 0.5px 0 rgba(255,255,255,0.5) !important;
}

/* Add a gentle wobble to interactive elements on hover */
body.ghibli-mode a:hover,
body.ghibli-mode .feed-shared-social-action-bar__action-button:hover,
body.ghibli-mode .feed-shared-social-action-bar__comment-button:hover {
  animation: gentleWobble 0.5s ease-in-out !important;
}

@keyframes gentleWobble {
  0%, 100% { transform: rotate(0); }
  25% { transform: rotate(2deg); }
  75% { transform: rotate(-2deg); }
}

/* LinkedIn feed fixes */
body.ghibli-mode .feed-shared-update-v2,
body.ghibli-mode .feed-shared-update-v2__content,
body.ghibli-mode .feed-shared-update-v2__description {
  background-color: var(--ghibli-card) !important;
  border-radius: 12px !important;
}

/* Fix LinkedIn event details pages */
body.ghibli-mode div[data-test-id="event-detail-page"],
body.ghibli-mode div[data-test-id="event-description"],
body.ghibli-mode div[data-test-id="event-sessions"],
body.ghibli-mode div[data-test-id="event-about"],
body.ghibli-mode div[data-test-id="event-speakers"],
body.ghibli-mode .events-search-results__list {
  background-color: var(--ghibli-card) !important;
  color: var(--ghibli-text) !important;
  border-radius: 12px !important;
  border-left: 3px solid var(--ghibli-accent) !important;
}

/* Fix LinkedIn profile pages */
body.ghibli-mode .pv-content,
body.ghibli-mode .pv-profile-section,
body.ghibli-mode #profile-content,
body.ghibli-mode .profile-background-image,
body.ghibli-mode .pv-top-card-section__photo-wrapper {
  background-color: var(--ghibli-card) !important;
  border-color: var(--ghibli-border) !important;
  border-radius: 12px !important;
}

/* Fix text colors on dark backgrounds */
body.ghibli-mode .t-white {
  color: var(--ghibli-text) !important;
}

/* Enhance profile images with more pronounced animation */
body.ghibli-mode .presence-entity__image,
body.ghibli-mode .profile-photo-edit__preview,
body.ghibli-mode .pv-top-card__photo,
body.ghibli-mode .EntityPhoto-circle,
body.ghibli-mode .feed-shared-actor__avatar {
  border: 3px solid var(--ghibli-border) !important;
  box-shadow: 2px 3px 6px var(--ghibli-shadow) !important;
  animation: floatUpDown 4s ease-in-out infinite !important;
  transform-origin: center bottom !important;
}

.ghibli-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle, 
    rgba(232, 162, 142, 0.07) 0%, 
    rgba(170, 201, 219, 0.07) 100%
  );
  pointer-events: none;
  z-index: 99;
  opacity: 0.4;
}

/* Animation for floating profile pics with slight rotation */
@keyframes floatUpDown {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-5px) rotate(1deg); }
}

/* Enhanced dust particles animation overlay */
.ghibli-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><circle cx="10" cy="10" r="1.2" fill="%23c5baa2" opacity="0.4"/><circle cx="30" cy="40" r="1" fill="%23c5baa2" opacity="0.4"/><circle cx="70" cy="30" r="1.4" fill="%23c5baa2" opacity="0.4"/><circle cx="90" cy="60" r="1.1" fill="%23c5baa2" opacity="0.4"/><circle cx="50" cy="70" r="1.3" fill="%23c5baa2" opacity="0.4"/><circle cx="20" cy="80" r="0.9" fill="%23c5baa2" opacity="0.4"/><circle cx="80" cy="15" r="1.2" fill="%23e6af9c" opacity="0.3"/><circle cx="45" cy="25" r="0.8" fill="%23e6af9c" opacity="0.3"/><circle cx="65" cy="85" r="1" fill="%23e6af9c" opacity="0.3"/></svg>');
  pointer-events: none;
  z-index: 98;
  opacity: 0.5;
  animation: floatParticles 30s linear infinite;
}

@keyframes floatParticles {
  0% { background-position: 0 0; }
  100% { background-position: 120px 120px; }
}

/* Add random totoro-like elements that float around the screen */
.ghibli-totoro {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 40px;
  height: 40px;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25,10 C15,10 10,20 10,30 C10,40 15,45 25,45 C35,45 40,40 40,30 C40,20 35,10 25,10 Z" fill="%23777777" opacity="0.3"/><circle cx="18" cy="25" r="2" fill="%23ffffff"/><circle cx="32" cy="25" r="2" fill="%23ffffff"/><path d="M20,32 C20,32 22,35 25,35 C28,35 30,32 30,32" stroke="%23ffffff" fill="none" stroke-width="1"/></svg>');
  background-repeat: no-repeat;
  z-index: 100;
  opacity: 0.5;
  pointer-events: none;
  animation: floatTotoro 20s ease-in-out infinite;
}

@keyframes floatTotoro {
  0% { transform: translate(0, 0) scale(1); opacity: 0.3; }
  50% { transform: translate(-100px, -50px) scale(0.8); opacity: 0.5; }
  100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
}
